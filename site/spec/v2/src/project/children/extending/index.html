<html>
<head>
<meta charset="utf-8"/>
<title>Формат описания подгружаемой части</title>
<link rel="stylesheet" type="text/css" href="style/style.css">
</head>
<body>
<a href="../index.html" style="font-size=2em;color:#f60;border:1px solid #f60;border-radius:5px;">НАВЕРХ</a>
<h1>Формат описания подгружаемой части</h1>
<p>Формат описания подгружаемой части аналогичен <a href="../../index.html">формату описания приложения вцелом</a> с небольшими отличиями. Подгружаемые части тоже имеют свои стили (style.css + директория res/), лейауты, виджеты, подписчики, исходное состояние, могут иметь подгружаемые части, имеют свою карту отображения в URL (общее дерево переходов растёт от того узла, куда была подключена подгружаемая часть).</p>
<h2>Отличия от формата описания приложения вцелом</h2>
<p>Отличия заключаются в файле gameplay.js. Там так же делается вызов Traliva.init(..), но в передаваемом этой функции объекте нет свойств target и get_layout (они могут быть, но будут игнорироваться) - идентификатор активного лэйаута задаёт только корневой вызов Traliva.init(..).</p>
<p>В подписчиках помимо свойства this._state (состояние, определяемое в states.initState подгружаемой части) доступны также свойства this._parentState (состояние родительской подгружаемой части (или всего веб-приложения)) и this._rootState (состояние всего веб-приложения)). Вызов метода this._registerStateChanges инициирует вызов processStateChanges у всех подписчиков приложения, а не только у подписчиков, определённых в описываемой подгружаемой части.</p>
</body>
</html>
